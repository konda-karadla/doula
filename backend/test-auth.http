### Health Platform API - Authentication Tests
### Base URL
@baseUrl = http://localhost:3000
@systemSlug = doula

### 1. Register a new user
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "doula-user@example.com",
  "username": "doulauser",
  "password": "SecurePass123!",
  "profileType": "patient",
  "journeyType": "prenatal",
  "systemSlug": "{{systemSlug}}"
}

### 2. Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "doula-user@example.com",
  "password": "SecurePass123!"
}

### 3. Extract tokens from login response
### Save the accessToken and refreshToken from the response above

### 4. Access protected route (replace YOUR_ACCESS_TOKEN)
GET {{baseUrl}}/
Authorization: Bearer YOUR_ACCESS_TOKEN

### 5. Refresh token (replace YOUR_REFRESH_TOKEN)
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
  "refreshToken": "YOUR_REFRESH_TOKEN"
}

### 6. Logout (replace YOUR_ACCESS_TOKEN)
POST {{baseUrl}}/auth/logout
Authorization: Bearer YOUR_ACCESS_TOKEN

### Test with Functional Health system
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "functional-user@example.com",
  "username": "functionaluser",
  "password": "SecurePass123!",
  "profileType": "client",
  "journeyType": "wellness",
  "systemSlug": "functional_health"
}

### Test with Elderly Care system
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "elderly-user@example.com",
  "username": "elderlyuser",
  "password": "SecurePass123!",
  "profileType": "caregiver",
  "journeyType": "senior_care",
  "systemSlug": "elderly_care"
}
